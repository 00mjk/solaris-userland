This patch fixes a Solaris specific issue related to user creation
in snmpv3. The patch has been submitted to the community but has
not been accepted yet.

The details can be found in the following location
https://sourceforge.net/p/net-snmp/bugs/2607

--- a/net-snmp-config.in	Fri Jun 29 15:18:27 2007
+++ b/net-snmp-config.in	Wed Apr  1 22:08:50 2015
@@ -191,7 +191,7 @@
       ;;
     ####################################################
     --create-snmpv3-user)
-      if @PSCMD@ | egrep ' snmpd *$' > /dev/null 2>&1 ; then
+      if " $PSPROG -z `zonename` | egrep ' snmpd *$' " > /dev/null 2>&1 ; then
          echo "Apparently at least one snmpd demon is already running."
          echo "You must stop them in order to use this command."
          exit 1
@@ -656,7 +656,9 @@
       usage="yes"
       ;;
   esac
-  shift
+  if test "$#" -gt 0 ; then
+    shift
+  fi
   done
 fi
 
