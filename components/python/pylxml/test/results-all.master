gmake[1]: Entering directory `$(SOURCE_DIR)'
python setup.py  build_ext -i
Using build configuration of libxslt 1.1.28
running build_ext
python test.py -p -v 
   1/1368 (  0.1%): txt (test_autolink)
*                  72/1368 (  5.3%): runTest (lxml.tests.test_css.CSSTestCase)
div:only-child  73/1368 (  5.3%): runTest (...tests.test_css.CSSTestCase)
div:contains(CELIA)  74/1368 (  5.4%): runTest (...tests.test_css.CSSTestCase)
div:nth-child(even)  75/1368 (  5.5%): runTest (lxml.tests.test_css.CSSTestCase)
div:nth-child(2n)  76/1368 (  5.6%): runTest (....tests.test_css.CSSTestCase)
div:nth-child(odd)  77/1368 (  5.6%): runTest (...tests.test_css.CSSTestCase)
div:nth-child(2n+1)  78/1368 (  5.7%): runTest (lxml.tests.test_css.CSSTestCase)
div:nth-child(n)   79/1368 (  5.8%): runTest (lxml.tests.test_css.CSSTestCase)
div:last-child    80/1368 (  5.8%): runTest (lxml.tests.test_css.CSSTestCase)
div:first-child  81/1368 (  5.9%): runTest (lxml.tests.test_css.CSSTestCase)
div > div        82/1368 (  6.0%): runTest (lxml.tests.test_css.CSSTestCase)
div + div  83/1368 (  6.1%): runTest (lxml.tests.test_css.CSSTestCase)
div ~ div  84/1368 (  6.1%): runTest (lxml.tests.test_css.CSSTestCase)
body       85/1368 (  6.2%): runTest (lxml.tests.test_css.CSSTestCase)
body div  86/1368 (  6.3%): runTest (lxml.tests.test_css.CSSTestCase)
div       87/1368 (  6.4%): runTest (lxml.tests.test_css.CSSTestCase)
div div  88/1368 (  6.4%): runTest (lxml.tests.test_css.CSSTestCase)
div div div  89/1368 (  6.5%): runTest (lxml.tests.test_css.CSSTestCase)
div, div, div  90/1368 (  6.6%): runTest (lxml.tests.test_css.CSSTestCase)
div, a, span   91/1368 (  6.7%): runTest (lxml.tests.test_css.CSSTestCase)
.dialog       92/1368 (  6.7%): runTest (lxml.tests.test_css.CSSTestCase)
div.dialog  93/1368 (  6.8%): runTest (lxml.tests.test_css.CSSTestCase)
div .dialog  94/1368 (  6.9%): runTest (...test_css.CSSTestCase)
div.character, div.dialog  95/1368 (  6.9%): runTest (...ests.test_css.CSSTestCase)
div.direction.dialog  96/1368 (  7.0%): runTest (...ests.test_css.CSSTestCase)
div.dialog.direction  97/1368 (  7.1%): runTest (lxml.tests.test_css.CSSTestCase)
div.dialog.scene   98/1368 (  7.2%): runTest (lxml.tests.test_css.CSSTestCase)
div.scene.scene   99/1368 (  7.2%): runTest (lxml.tests.test_css.CSSTestCase)
div.scene .scene 100/1368 (  7.3%): runTest (...ts.test_css.CSSTestCase)
div.direction .dialog  101/1368 (  7.4%): runTest (...ts.test_css.CSSTestCase)
div .dialog .direction 102/1368 (  7.5%): runTest (..._css.CSSTestCase)
div.dialog .dialog .direction 103/1368 (  7.5%): runTest (lxml.tests.test_css.CSSTestCase)
#speech5          104/1368 (  7.6%): runTest (lxml.tests.test_css.CSSTestCase)
div#speech5 105/1368 (  7.7%): runTest (lxml.tests.test_css.CSSTestCase)
div #speech5 106/1368 (  7.7%): runTest (...ests.test_css.CSSTestCase)
div.scene div.dialog 107/1368 (  7.8%): runTest (...test_css.CSSTestCase)
div#scene1 div.dialog div 108/1368 (  7.9%): runTest (lxml.tests.test_css.CSSTestCase)
#scene1 #speech1  109/1368 (  8.0%): runTest (lxml.tests.test_css.CSSTestCase)
div[class]       110/1368 (  8.0%): runTest (lxml.tests.test_css.CSSTestCase)
div[class=dialog] 111/1368 (  8.1%): runTest (lxml.tests.test_css.CSSTestCase)
div[class^=dia]   112/1368 (  8.2%): runTest (lxml.tests.test_css.CSSTestCase)
div[class$=log] 113/1368 (  8.3%): runTest (lxml.tests.test_css.CSSTestCase)
div[class*=sce] 114/1368 (  8.3%): runTest (....tests.test_css.CSSTestCase)
div[class|=dialog] 115/1368 (  8.4%): runTest (....tests.test_css.CSSTestCase)
div[class!=madeup] 116/1368 (  8.5%): runTest (....tests.test_css.CSSTestCase)
div[class~=dialog] 117/1368 (  8.6%): test_dtd (lxml.tests.test_dtd.ETreeDtdTestCase)             118/1368 (  8.6%): test_dtd_assertValid (lxml.tests.test_dtd.ETreeDtdTestCase) 119/1368 (  8.7%): test_dtd_broken (lxml.tests.test_dtd.ETreeDtdTestCase)      120/1368 (  8.8%): test_dtd_file (lxml.tests.test_dtd.ETreeDtdTestCase)   121/1368 (  8.8%): test_dtd_internal (lxml.tests.test_dtd.ETreeDtdTestCase) 122/1368 (  8.9%): test_dtd_internal_invalid (...ts.test_dtd.ETreeDtdTestCase) 123/1368 (  9.0%): test_dtd_invalid (lxml.tests.test_dtd.ETreeDtdTestCase)     124/1368 (  9.1%): test_dtd_parse_file_not_found (...est_dtd.ETreeDtdTestCase) 125/1368 (  9.1%): test_dtd_parse_invalid (...tests.test_dtd.ETreeDtdTestCase) 126/1368 (  9.2%): test_dtd_parse_valid (lxml.tests.test_dtd.ETreeDtdTestCase) 127/1368 (  9.3%): test_dtd_parse_valid_relative (...est_dtd.ETreeDtdTestCase) 128/1368 (  9.4%): test_dtd_stringio (lxml.tests.test_dtd.ETreeDtdTestCase)    129/1368 (  9.4%): test_iterparse_file_dtd (...ests.test_dtd.ETreeDtdTestCase) 130/1368 (  9.5%): test_parse_file_dtd (lxml.tests.test_dtd.ETreeDtdTestCase)  131/1368 (  9.6%): txt (validation)
======================================================================
ERROR: test_iterparse_file_dtd (lxml.tests.test_dtd.ETreeDtdTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/lib/python2.7/unittest/case.py", line 331, in run
    testMethod()
  File "$(SOURCE_DIR)/src/lxml/tests/test_dtd.py", line 124, in test_iterparse_file_dtd
    for event, element in iterator ]
  File "iterparse.pxi", line 491, in lxml.etree.iterparse.__next__ (src/lxml/lxml.etree.c:98575)
  File "iterparse.pxi", line 543, in lxml.etree.iterparse._read_more_events (src/lxml/lxml.etree.c:99096)
  File "parser.pxi", line 601, in lxml.etree._raiseParseError (src/lxml/lxml.etree.c:74889)
XMLSyntaxError: None

======================================================================
ERROR: test_iterparse_file (lxml.tests.test_elementtree.ETreeTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/lib/python2.7/unittest/case.py", line 331, in run
    testMethod()
  File "$(SOURCE_DIR)/src/lxml/tests/test_elementtree.py", line 2719, in test_iterparse_file
    events = list(iterator)
  File "iterparse.pxi", line 491, in lxml.etree.iterparse.__next__ (src/lxml/lxml.etree.c:98575)
  File "iterparse.pxi", line 543, in lxml.etree.iterparse._read_more_events (src/lxml/lxml.etree.c:99096)
  File "parser.pxi", line 601, in lxml.etree._raiseParseError (src/lxml/lxml.etree.c:74889)
XMLSyntaxError: None

======================================================================
ERROR: test_sourceline_iterparse_end (lxml.tests.test_etree.ETreeOnlyTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/lib/python2.7/unittest/case.py", line 331, in run
    testMethod()
  File "$(SOURCE_DIR)/src/lxml/tests/test_etree.py", line 2381, in test_sourceline_iterparse_end
    iterparse(fileInTestDir('include/test_xinclude.xml')) ]
  File "iterparse.pxi", line 491, in lxml.etree.iterparse.__next__ (src/lxml/lxml.etree.c:98575)
  File "iterparse.pxi", line 543, in lxml.etree.iterparse._read_more_events (src/lxml/lxml.etree.c:99096)
  File "parser.pxi", line 601, in lxml.etree._raiseParseError (src/lxml/lxml.etree.c:74889)
XMLSyntaxError: None

======================================================================
ERROR: test_sourceline_iterparse_start (lxml.tests.test_etree.ETreeOnlyTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/lib/python2.7/unittest/case.py", line 331, in run
    testMethod()
  File "$(SOURCE_DIR)/src/lxml/tests/test_etree.py", line 2391, in test_sourceline_iterparse_start
    events=("start",)) ]
  File "iterparse.pxi", line 491, in lxml.etree.iterparse.__next__ (src/lxml/lxml.etree.c:98575)
  File "iterparse.pxi", line 543, in lxml.etree.iterparse._read_more_events (src/lxml/lxml.etree.c:99096)
  File "parser.pxi", line 601, in lxml.etree._raiseParseError (src/lxml/lxml.etree.c:74889)
XMLSyntaxError: None

======================================================================
ERROR: test_xpath_exslt_functions_strings (lxml.tests.test_xpathevaluator.ETreeXPathExsltTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/lib/python2.7/unittest/case.py", line 331, in run
    testMethod()
  File "$(SOURCE_DIR)/src/lxml/tests/test_xpathevaluator.py", line 593, in test_xpath_exslt_functions_strings
    namespaces=self.NSMAP)
  File "lxml.etree.pyx", line 2045, in lxml.etree._ElementTree.xpath (src/lxml/lxml.etree.c:47596)
  File "xpath.pxi", line 376, in lxml.etree.XPathDocumentEvaluator.__call__ (src/lxml/lxml.etree.c:118390)
  File "xpath.pxi", line 239, in lxml.etree._XPathEvaluatorBase._handle_result (src/lxml/lxml.etree.c:117054)
  File "xpath.pxi", line 225, in lxml.etree._XPathEvaluatorBase._raise_eval_error (src/lxml/lxml.etree.c:116923)
XPathEvalError: Memory allocation error

======================================================================
FAIL: txt (test_diff)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/lib/python2.7/unittest/case.py", line 331, in run
    testMethod()
  File "/usr/lib/python2.7/doctest.py", line 2226, in runTest
    raise self.failureException(self.format_failure(new.getvalue()))
AssertionError: Failed doctest test for test_diff.txt
  File "$(SOURCE_DIR)/src/lxml/html/tests/test_diff.txt", line 0, in txt

----------------------------------------------------------------------
File "$(SOURCE_DIR)/src/lxml/html/tests/test_diff.txt", line 71, in test_diff.txt
Failed example:
    pdiff('<img src="tease"><img><img src="test">', '<img><img src="toast">')
Expected:
    <del><img src="tease"></del> <img><ins><img src="toast"></ins>
    <del><img src="test"></del>
Got:
    <del><img src="tease"></del> <img> <ins><img src="toast"></ins>
    <del><img src="test"></del>


======================================================================
FAIL: txt (test_forms)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/lib/python2.7/unittest/case.py", line 331, in run
    testMethod()
  File "/usr/lib/python2.7/doctest.py", line 2226, in runTest
    raise self.failureException(self.format_failure(new.getvalue()))
AssertionError: Failed doctest test for test_forms.txt
  File "$(SOURCE_DIR)/src/lxml/html/tests/test_forms.txt", line 0, in txt

----------------------------------------------------------------------
File "$(SOURCE_DIR)/src/lxml/html/tests/test_forms.txt", line 51, in test_forms.txt
Failed example:
    tostring(hidden)
Expected:
    '<input type="hidden" name="hidden_field" value="new value">'
Got:
    '<input type="hidden" name="hidden_field" value="new value">\n  '
----------------------------------------------------------------------
File "$(SOURCE_DIR)/src/lxml/html/tests/test_forms.txt", line 65, in test_forms.txt
Failed example:
    tostring(checkbox)
Expected:
    '<input type="checkbox" name="single_checkbox" checked>'
Got:
    '<input type="checkbox" name="single_checkbox" checked>\n  '
----------------------------------------------------------------------
File "$(SOURCE_DIR)/src/lxml/html/tests/test_forms.txt", line 77, in test_forms.txt
Failed example:
    tostring(group[0])
Expected:
    '<input type="checkbox" name="check_group" value="1" checked>'
Got:
    '<input type="checkbox" name="check_group" value="1" checked>\n  '
----------------------------------------------------------------------
File "$(SOURCE_DIR)/src/lxml/html/tests/test_forms.txt", line 94, in test_forms.txt
Failed example:
    tostring(radios[0])
Expected:
    '<input type="radio" name="radios" value="value1" id="value1" checked>'
Got:
    '<input type="radio" name="radios" value="value1" id="value1" checked>\n  '
----------------------------------------------------------------------
File "$(SOURCE_DIR)/src/lxml/html/tests/test_forms.txt", line 97, in test_forms.txt
Failed example:
    tostring(radios[0])
Expected:
    '<input type="radio" name="radios" value="value1" id="value1">'
Got:
    '<input type="radio" name="radios" value="value1" id="value1">\n  '


----------------------------------------------------------------------
Ran 1368 tests

FAILED (failures=2, errors=5)
Comparing with ElementTree 1.3.0

TESTED VERSION: 2.3.3
    Python:           sys.version_info(major=2, minor=7, micro=10, releaselevel='final', serial=0)
    lxml.etree:       (2, 3, 3, 0)
    libxml used:      (2, 9, 2)
    libxml compiled:  (2, 9, 2)
    libxslt used:     (1, 1, 28)
    libxslt compiled: (1, 1, 28)

gmake[1]: [test_inplace] Error 1 (ignored)
**********************************************************************
File "$(SOURCE_DIR)/selftest.py", line 405, in selftest.iterparse
Failed example:
    for action, elem in context:
      print("%s %s" % (action, elem.tag))
Exception raised:
    Traceback (most recent call last):
      File "/usr/lib/python2.7/doctest.py", line 1315, in __run
        compileflags, 1) in test.globs
      File "<doctest selftest.iterparse[2]>", line 1, in <module>
        for action, elem in context:
      File "iterparse.pxi", line 491, in lxml.etree.iterparse.__next__ (src/lxml/lxml.etree.c:98575)
      File "iterparse.pxi", line 543, in lxml.etree.iterparse._read_more_events (src/lxml/lxml.etree.c:99096)
      File "parser.pxi", line 601, in lxml.etree._raiseParseError (src/lxml/lxml.etree.c:74889)
    XMLSyntaxError: None
**********************************************************************
File "$(SOURCE_DIR)/selftest.py", line 411, in selftest.iterparse
Failed example:
    context.root.tag
Exception raised:
    Traceback (most recent call last):
      File "/usr/lib/python2.7/doctest.py", line 1315, in __run
        compileflags, 1) in test.globs
      File "<doctest selftest.iterparse[3]>", line 1, in <module>
        context.root.tag
    AttributeError: 'NoneType' object has no attribute 'tag'
**********************************************************************
File "$(SOURCE_DIR)/selftest.py", line 415, in selftest.iterparse
Failed example:
    for action, elem in context:
      print("%s %s" % (action, elem.tag))
Exception raised:
    Traceback (most recent call last):
      File "/usr/lib/python2.7/doctest.py", line 1315, in __run
        compileflags, 1) in test.globs
      File "<doctest selftest.iterparse[5]>", line 1, in <module>
        for action, elem in context:
      File "iterparse.pxi", line 491, in lxml.etree.iterparse.__next__ (src/lxml/lxml.etree.c:98575)
      File "iterparse.pxi", line 543, in lxml.etree.iterparse._read_more_events (src/lxml/lxml.etree.c:99096)
      File "parser.pxi", line 601, in lxml.etree._raiseParseError (src/lxml/lxml.etree.c:74889)
    XMLSyntaxError: None
**********************************************************************
File "$(SOURCE_DIR)/selftest.py", line 434, in selftest.iterparse
Failed example:
    for action, elem in context:
      print("%s %s" % (action, elem.tag))
Exception raised:
    Traceback (most recent call last):
      File "/usr/lib/python2.7/doctest.py", line 1315, in __run
        compileflags, 1) in test.globs
      File "<doctest selftest.iterparse[14]>", line 1, in <module>
        for action, elem in context:
      File "iterparse.pxi", line 491, in lxml.etree.iterparse.__next__ (src/lxml/lxml.etree.c:98575)
      File "iterparse.pxi", line 543, in lxml.etree.iterparse._read_more_events (src/lxml/lxml.etree.c:99096)
      File "parser.pxi", line 601, in lxml.etree._raiseParseError (src/lxml/lxml.etree.c:74889)
    XMLSyntaxError: None
**********************************************************************
File "$(SOURCE_DIR)/selftest.py", line 447, in selftest.iterparse
Failed example:
    for action, elem in context:
      if action in ("start", "end"):
        print("%s %s" % (action, elem.tag))
      else:
        print("%s %s" % (action, elem))
Exception raised:
    Traceback (most recent call last):
      File "/usr/lib/python2.7/doctest.py", line 1315, in __run
        compileflags, 1) in test.globs
      File "<doctest selftest.iterparse[17]>", line 1, in <module>
        for action, elem in context:
      File "iterparse.pxi", line 491, in lxml.etree.iterparse.__next__ (src/lxml/lxml.etree.c:98575)
      File "iterparse.pxi", line 543, in lxml.etree.iterparse._read_more_events (src/lxml/lxml.etree.c:99096)
      File "parser.pxi", line 601, in lxml.etree._raiseParseError (src/lxml/lxml.etree.c:74889)
    XMLSyntaxError: None
**********************************************************************
1 items had failures:
   5 of  18 in selftest.iterparse
***Test Failed*** 5 failures.
179 tests ok.
106 tests ok.
gmake[1]: Leaving directory `$(SOURCE_DIR)'
