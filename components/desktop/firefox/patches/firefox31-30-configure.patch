Shell translations. Should probably be removed. 

--- mozilla-esr31/js/src/configure.orig	2015-06-04 17:42:51.357938258 -0700
+++ mozilla-esr31/js/src/configure	2015-06-04 17:42:51.371806503 -0700
@@ -1291,7 +1291,7 @@
   fi
 
     fi
-    IS_GCC=$($CC -v 2>&1 | grep gcc)
+    IS_GCC=`$CC -v 2>&1 | grep gcc`
     if test -n "$IS_GCC"
     then
       echo gcc is known to be broken on OS X, please use clang.
@@ -4342,7 +4342,7 @@
 for base in $MOZILLA_CENTRAL_PATH $_topsrcdir $_topsrcdir/../..; do
   possible=$base/python/mozbuild/mozbuild/virtualenv.py
 
-  if test -e $possible; then
+  if test -f $possible; then
     _virtualenv_topsrcdir=$base
     _virtualenv_populate_path=$possible
     break
@@ -8861,12 +8861,12 @@
 
 if test "$GNU_CC" -a -n "$MOZ_FORCE_GOLD"; then
             if $CC -Wl,--version 2>&1 | grep -q "GNU ld"; then
-        GOLD=$($CC -print-prog-name=ld.gold)
+        GOLD=`$CC -print-prog-name=ld.gold`
         case "$GOLD" in
         /*)
             ;;
         *)
-            GOLD=$(which $GOLD)
+            GOLD=`which $GOLD`
             ;;
         esac
         if test -n "$GOLD"; then
@@ -15668,7 +15668,8 @@
     	  _CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
 case "$host" in
 *-mingw*)
-    _CONFIG_SHELL=$(cd $(dirname $_CONFIG_SHELL); pwd -W)/$(basename $_CONFIG_SHELL)
+    tmp_DIRNAME=`dirname "$_CONFIG_SHELL"`
+    _CONFIG_SHELL=`(cd $tmp_DIRNAME; pwd -W)`/`(basename $_CONFIG_SHELL)`
     if test ! -e "$_CONFIG_SHELL" -a -e "${_CONFIG_SHELL}.exe"; then
         _CONFIG_SHELL="${_CONFIG_SHELL}.exe"
     fi
@@ -15793,7 +15794,8 @@
           _CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
 case "$host" in
 *-mingw*)
-    _CONFIG_SHELL=$(cd $(dirname $_CONFIG_SHELL); pwd -W)/$(basename $_CONFIG_SHELL)
+     tmp_DIRNAME=`dirname "$_CONFIG_SHELL"`
+    _CONFIG_SHELL=`(cd $tmp_DIRNAME; pwd -W)`/`(basename $_CONFIG_SHELL)`
     if test ! -e "$_CONFIG_SHELL" -a -e "${_CONFIG_SHELL}.exe"; then
         _CONFIG_SHELL="${_CONFIG_SHELL}.exe"
     fi
@@ -16044,7 +16046,8 @@
    _CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
 case "$host" in
 *-mingw*)
-    _CONFIG_SHELL=$(cd $(dirname $_CONFIG_SHELL); pwd -W)/$(basename $_CONFIG_SHELL)
+     tmp_DIRNAME=`dirname "$_CONFIG_SHELL"`
+    _CONFIG_SHELL=`(cd $tmp_DIRNAME; pwd -W)`/`(basename $_CONFIG_SHELL)`
     if test ! -e "$_CONFIG_SHELL" -a -e "${_CONFIG_SHELL}.exe"; then
         _CONFIG_SHELL="${_CONFIG_SHELL}.exe"
     fi
@@ -16613,9 +16616,12 @@
   
 chmod +x $CONFIG_STATUS
 rm -fr confdefs* $ac_clean_files
-if test "$no_create" != yes && ! ${PYTHON} $CONFIG_STATUS; then
+if test "$no_create" != yes; then
+  ${PYTHON} $CONFIG_STATUS
+  if test "$?" != 0; then
     trap '' EXIT
     exit 1
+  fi
 fi
 
 fi
