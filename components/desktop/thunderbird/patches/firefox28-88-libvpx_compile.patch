Can probably send upstream.

--- comm-esr31/mozilla/media/libvpx/Makefile.in.orig	2015-06-04 17:42:52.225216512 -0700
+++ comm-esr31/mozilla/media/libvpx/Makefile.in	2015-06-04 17:42:52.235644957 -0700
@@ -8,6 +8,10 @@
 AS_DASH_C_FLAG=$(VPX_DASH_C_FLAG)
 ASM_SUFFIX=$(VPX_ASM_SUFFIX)
 
+ifeq ($(OS_TARGET),SunOS)
+ASFLAGS+=-DSOLARIS=1
+endif
+
 ifdef VPX_ARM_ASM
 # Building on an ARM platform with a supported assembler, include
 # the optimized assembly in the build.
@@ -115,7 +119,7 @@
 # Workaround a bug of Sun Studio (CR 6963410)
 ifdef SOLARIS_SUNPRO_CC
 ifeq (86,$(findstring 86,$(OS_TEST)))
-filter.o: filter.c Makefile.in
+filter.o: vp8/common/filter.c Makefile.in
 	$(REPORT_BUILD)
 	@$(MAKE_DEPS_AUTO_CC)
 	$(CC) -o $@ -c $(patsubst -xO[45],-xO3,$(COMPILE_CFLAGS)) $<
--- comm-esr31/mozilla/media/libvpx/vpx_ports/x86_abi_support.asm.orig	2015-06-04 17:42:52.233318593 -0700
+++ comm-esr31/mozilla/media/libvpx/vpx_ports/x86_abi_support.asm	2015-06-04 17:42:52.235792816 -0700
@@ -225,9 +225,13 @@
   %ifdef CHROMIUM
     %ifidn __OUTPUT_FORMAT__,macho32
       %define HIDDEN_DATA(x) x:private_extern
+    %elifidn SOLARIS,1
+      %define HIDDEN_DATA(x) x:data hidden
     %else
       %define HIDDEN_DATA(x) x
     %endif
+  %elifidn SOLARIS,1
+    %define HIDDEN_DATA(x) x:data hidden
   %else
     %define HIDDEN_DATA(x) x
   %endif
@@ -244,9 +248,13 @@
   %elifidn __OUTPUT_FORMAT__,macho64
     %ifdef CHROMIUM
       %define HIDDEN_DATA(x) x:private_extern
+    %elifidn SOLARIS,1
+      %define HIDDEN_DATA(x) x:data hidden
     %else
       %define HIDDEN_DATA(x) x
     %endif
+  %elifidn SOLARIS,1
+    %define HIDDEN_DATA(x) x:data hidden
   %else
     %define HIDDEN_DATA(x) x
   %endif
