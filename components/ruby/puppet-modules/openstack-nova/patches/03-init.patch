In-house patch to add support for Solaris 11.3 and 12.0.  This patch
has not yet been submitted upstream due to requirements for 3rd party
CI testing.

--- openstack-nova-6.1.0/manifests/init.pp.orig	2016-04-21 08:28:14.920659366 -0700
+++ openstack-nova-6.1.0/manifests/init.pp	2016-04-21 08:28:26.073126710 -0700
@@ -1,3 +1,7 @@
+#######################################################################
+# Oracle has modified the originally distributed contents of this file.
+#######################################################################
+
 # == Class: nova
 #
 # This class is used to specify configuration parameters that are common
@@ -397,12 +401,6 @@
   Package['nova-common'] -> Nova_config<| |> -> File['/etc/nova/nova.conf']
   Nova_config<| |> ~> Exec['post-nova_config']
 
-  # TODO - see if these packages can be removed
-  # they should be handled as package deps by the OS
-  package { 'python-greenlet':
-    ensure  => present,
-  }
-
   if $install_utilities {
     class { '::nova::utilities': }
   }
@@ -411,23 +409,14 @@
   # allowing a resource to serve as a point where the configuration of nova begins
   anchor { 'nova-start': }
 
-  package { 'python-nova':
-    ensure  => $ensure_package,
-    require => Package['python-greenlet'],
-    tag     => ['openstack'],
-  }
-
   package { 'nova-common':
     ensure  => $ensure_package,
     name    => $::nova::params::common_package_name,
-    require => [Package['python-nova'], Anchor['nova-start']],
+    require => Anchor['nova-start'],
     tag     => ['openstack'],
   }
 
   file { '/etc/nova/nova.conf':
-    mode    => '0640',
-    owner   => 'nova',
-    group   => 'nova',
     require => Package['nova-common'],
   }
 
@@ -576,9 +565,6 @@
   if $log_dir {
     file { $log_dir:
       ensure  => directory,
-      mode    => '0750',
-      owner   => 'nova',
-      group   => $::nova::params::nova_log_group,
       require => Package['nova-common'],
     }
     nova_config { 'DEFAULT/log_dir': value => $log_dir;}
