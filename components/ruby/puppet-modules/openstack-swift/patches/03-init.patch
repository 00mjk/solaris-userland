In-house patch to add support for Solaris 11.3 and 12.0.  This patch
has not yet been submitted upstream due to requirements for 3rd party
CI testing.

--- openstack-swift-6.1.0/manifests/init.pp.orig     2015-08-10 11:12:30.293187329 -0700
+++ openstack-swift-6.1.0/manifests/init.pp     2015-08-10 11:13:32.086133292 -0700
@@ -2,6 +2,10 @@
 #
 # == Parameters
 #
+# [*swift_hash_prefix*] string of text to be used
+#   as a salt when hashing to determine mappings in the ring.
+#   This file should be the same on every node in the cluster.
+#
 # [*swift_hash_suffix*] string of text to be used
 #   as a salt when hashing to determine mappings in the ring.
 #   This file should be the same on every node in the cluster.
@@ -29,6 +33,7 @@
 # Copyright 2011 Puppetlabs Inc, unless otherwise noted.
 #
 class swift(
+  $swift_hash_prefix,
   $swift_hash_suffix,
   $package_ensure        = 'present',
   $client_package_ensure = 'present',
@@ -49,27 +54,9 @@ class swift(
     ensure => $client_package_ensure;
   }

-  File { owner => 'swift', group => 'swift', require => Package['swift'] }
-
-  file { '/etc/swift':
-    ensure => directory,
-    mode   => '2770',
-  }
-  user {'swift':
-    ensure => present,
-  }
-  file { '/var/lib/swift':
-    ensure => directory,
-  }
-  file { '/var/run/swift':
-    ensure => directory,
-  }
-
-  file { '/etc/swift/swift.conf':
-    ensure => file,
-    mode   => '0660',
+  swift_config { 'swift-hash/swift_hash_path_prefix':
+    value => $swift_hash_prefix,
   }
-
   swift_config { 'swift-hash/swift_hash_path_suffix':
     value => $swift_hash_suffix,
   }
