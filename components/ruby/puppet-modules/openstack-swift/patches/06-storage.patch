In-house patch to add support for Solaris 11.3 and 12.0.  This patch
has not yet been submitted upstream due to requirements for 3rd party
CI testing.

--- openstack-swift-6.1.0/manifests/storage/account.pp.orig	2016-04-21 08:40:58.647841720 -0700
+++ openstack-swift-6.1.0/manifests/storage/account.pp	2016-04-21 08:41:37.781959002 -0700
@@ -1,3 +1,7 @@
+#######################################################################
+# Oracle has modified the originally distributed contents of this file.
+#######################################################################
+
 # Class swift::storage::account
 #
 # == Parameters
@@ -43,7 +47,6 @@
     name     => $::swift::params::account_reaper_service_name,
     enable   => $enabled,
     provider => $::swift::params::service_provider,
-    require  => Package['swift-account'],
   }
 
   service { 'swift-account-auditor':
@@ -51,6 +54,5 @@
     name     => $::swift::params::account_auditor_service_name,
     enable   => $enabled,
     provider => $::swift::params::service_provider,
-    require  => Package['swift-account'],
   }
 }
--- openstack-swift-6.1.0/manifests/storage/container.pp.orig	2016-04-21 08:41:03.411182222 -0700
+++ openstack-swift-6.1.0/manifests/storage/container.pp	2016-04-21 08:41:41.863686954 -0700
@@ -1,3 +1,7 @@
+#######################################################################
+# Oracle has modified the originally distributed contents of this file.
+#######################################################################
+
 #
 # === Parameters
 #
@@ -48,7 +52,6 @@
     name     => $::swift::params::container_updater_service_name,
     enable   => $enabled,
     provider => $::swift::params::service_provider,
-    require  => Package['swift-container'],
   }
 
   service { 'swift-container-auditor':
@@ -56,7 +59,6 @@
     name     => $::swift::params::container_auditor_service_name,
     enable   => $enabled,
     provider => $::swift::params::service_provider,
-    require  => Package['swift-container'],
   }
 
   if $::operatingsystem == 'Ubuntu' {
--- openstack-swift-6.1.0/manifests/storage/object.pp.orig	2016-04-21 08:41:08.181529232 -0700
+++ openstack-swift-6.1.0/manifests/storage/object.pp	2016-04-21 08:41:44.966394780 -0700
@@ -1,3 +1,7 @@
+#######################################################################
+# Oracle has modified the originally distributed contents of this file.
+#######################################################################
+
 # Class swift::storage::object
 #
 # == Parameters
@@ -43,7 +47,6 @@
     name     => $::swift::params::object_updater_service_name,
     enable   => $enabled,
     provider => $::swift::params::service_provider,
-    require  => Package['swift-object'],
   }
 
   service { 'swift-object-auditor':
@@ -51,6 +54,5 @@
     name     => $::swift::params::object_auditor_service_name,
     enable   => $enabled,
     provider => $::swift::params::service_provider,
-    require  => Package['swift-object'],
   }
 }
--- openstack-swift-6.1.0/manifests/storage/generic.pp.orig	2016-04-21 08:41:14.272088204 -0700
+++ openstack-swift-6.1.0/manifests/storage/generic.pp	2016-04-21 08:41:48.797848159 -0700
@@ -1,3 +1,7 @@
+#######################################################################
+# Oracle has modified the originally distributed contents of this file.
+#######################################################################
+
 # Creates the files packages and services that are
 # needed to deploy each type of storage server.
 #
@@ -42,21 +46,6 @@
 
   validate_re($name, '^object|container|account$')
 
-  package { "swift-${name}":
-    ensure => $package_ensure,
-    # this is a way to dynamically build the variables to lookup
-    # sorry its so ugly :(
-    name   => inline_template("<%= scope.lookupvar('::swift::params::${name}_package_name') %>"),
-    tag    => 'openstack',
-    before => Service["swift-${name}", "swift-${name}-replicator"],
-  }
-
-  file { "/etc/swift/${name}-server/":
-    ensure => directory,
-    owner  => 'swift',
-    group  => 'swift',
-  }
-
   if $manage_service {
     if $enabled {
       $service_ensure = 'running'
@@ -71,7 +60,6 @@
     enable    => $enabled,
     hasstatus => true,
     provider  => $service_provider,
-    subscribe => Package["swift-${name}"],
   }
 
   service { "swift-${name}-replicator":
@@ -80,7 +68,6 @@
     enable    => $enabled,
     hasstatus => true,
     provider  => $service_provider,
-    subscribe => Package["swift-${name}"],
   }
 
 }
