In-house patch to add support for Solaris 11.3 and 12.0.  This patch
has not yet been submitted upstream due to requirements for 3rd party
CI testing.

--- openstack-horizon-6.1.0/templates/local_settings.py.erb.orig	2015-06-04 08:58:10.806056356 -0600
+++ openstack-horizon-6.1.0/templates/local_settings.py.erb	2015-06-04 08:57:59.128875035 -0600
@@ -76,6 +76,9 @@ HORIZON_CONFIG = {
     'exceptions': {'recoverable': exceptions.RECOVERABLE,
                    'not_found': exceptions.NOT_FOUND,
                    'unauthorized': exceptions.UNAUTHORIZED},
+<% if @overrides %>
+    'customization_module': "<%= @overrides %>"
+<% end %>
 }

 # Specify a regular expression to validate user passwords.
@@ -345,13 +348,6 @@ LOGGING = {
             'filename': '<%= scope.lookupvar("horizon::params::logdir") %>/horizon.log',
             'formatter': 'verbose',
         },
-        'syslog': {
-            'level': '<%= @log_level %>',
-            'facility': 'local1',
-            'class': 'logging.handlers.SysLogHandler',
-            'address': '/dev/log',
-            'formatter': 'normal',
-        }
     },
     'loggers': {
         # Logging from django.db.backends is VERY verbose, send to null
@@ -574,14 +570,27 @@ LOGIN_URL = '<%= scope.lookupvar("horizo
 LOGOUT_URL = '<%= scope.lookupvar("horizon::params::root_url") %>/auth/logout/'
 LOGIN_REDIRECT_URL = '<%= scope.lookupvar("horizon::params::root_url") %>'

-# The Ubuntu package includes pre-compressed JS and compiled CSS to allow
-# offline compression by default.  To enable online compression, install
-# the python-lesscpy package and disable the following option.
+<% if @static_root %>
+STATIC_ROOT = '<%= @static_root %>'
+<% end %>
+
+<% if @theme %>
+    <% if @theme.kind_of?(Array) %>
+TEMPLATE_DIRS = ('<%= @theme.join("', '") %>', )
+    <% else %>
+TEMPLATE_DIRS = ('<%= @theme %>', )
+    <% end %>
+<% end %>
+
+# The Ubuntu and Solaris packages includes pre-compressed JS and
+# compiled CSS to allow offline compression by default.  To enable
+# online compression, install the python-lesscpy package and disable
+# the following option.
 COMPRESS_OFFLINE = <%= @compress_offline.to_s.capitalize %>

-# For Glance image upload, Horizon uses the file upload support from Django
-# so we add this option to change the directory where uploaded files are temporarily
-# stored until they are loaded into Glance.
+# For Glance image upload, Horizon uses the file upload support from
+# Django so we add this option to change the directory where uploaded
+# files are temporarily stored until they are loaded into Glance.
 FILE_UPLOAD_TEMP_DIR = '<%= @file_upload_temp_dir %>'

 <% if @tuskar_ui %>
