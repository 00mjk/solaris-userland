#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#

#
# Copyright (c) 2017, Oracle and/or its affiliates. All rights reserved.
#

BUILD_BITS=             NO_ARCH
include ../../../make-rules/shared-macros.mk

COMPONENT_NAME=		lohit
COMPONENT_VERSION=	20150325
COMPONENT_PROJECT_URL=	https://fedoraproject.org/wiki/Lohit_fonts

COMPONENT_SRC=		lohit-assamese-ttf-2.5.3
COMPONENT_ARCHIVE=	$(COMPONENT_SRC).tar.gz
COMPONENT_ARCHIVE_URL=	https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE)
COMPONENT_ARCHIVE_HASH=	sha256:ce8e510f4e78527eb4c514bf49ed69389b983cd8c4990f0a7b9b9f43b6bef9ce

COMPONENT_SRC_1=	lohit-bengali-ttf-2.5.3
COMPONENT_ARCHIVE_1=	$(COMPONENT_SRC_1).tar.gz
COMPONENT_ARCHIVE_URL_1=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_1)
COMPONENT_ARCHIVE_HASH_1=sha256:c5d8dc45b903175e7ab0047062acb1ee1ebae38ebea0f0b066fa6f1755fdbeaf

COMPONENT_SRC_2=	lohit-devanagari-ttf-2.95.1
COMPONENT_ARCHIVE_2=	$(COMPONENT_SRC_2).tar.gz
COMPONENT_ARCHIVE_URL_2=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_2)
COMPONENT_ARCHIVE_HASH_2=sha256:36eb95eed406a9962035573b7334bbc0612761f538a74fe159f19f1b4232284f

COMPONENT_SRC_3=	lohit-gujarati-ttf-2.92.2
COMPONENT_ARCHIVE_3=	$(COMPONENT_SRC_3).tar.gz
COMPONENT_ARCHIVE_URL_3=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_3)
COMPONENT_ARCHIVE_HASH_3=sha256:9775c4faa7a3acbc2aa3032340448dbe75169849a64402df7572fbef3d0c3523

COMPONENT_SRC_4=	lohit-kannada-ttf-2.5.3
COMPONENT_ARCHIVE_4=	$(COMPONENT_SRC_4).tar.gz
COMPONENT_ARCHIVE_URL_4=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_4)
COMPONENT_ARCHIVE_HASH_4=sha256:f1a6b58a70720e03cce8f6772e8eb87dc12eff8fdf36173c88aef2157e592ef5

COMPONENT_SRC_5=	lohit-malayalam-ttf-2.5.4
COMPONENT_ARCHIVE_5=	$(COMPONENT_SRC_5).tar.gz
COMPONENT_ARCHIVE_URL_5=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_5)
COMPONENT_ARCHIVE_HASH_5=sha256:8c230bbe4cee42d55caa3e548f52dc5f54bae42a35b8eefe575297bd23b2fde4

COMPONENT_SRC_6=	lohit-marathi-ttf-2.94.0
COMPONENT_ARCHIVE_6=	$(COMPONENT_SRC_6).tar.gz
COMPONENT_ARCHIVE_URL_6=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_6)
COMPONENT_ARCHIVE_HASH_6=sha256:843ef521f68605e6a44e77138deb372f23ed7ac8c2822dca766ab9f58c623a79

COMPONENT_SRC_7=	lohit-nepali-ttf-2.94.0
COMPONENT_ARCHIVE_7=	$(COMPONENT_SRC_7).tar.gz
COMPONENT_ARCHIVE_URL_7=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_7)
COMPONENT_ARCHIVE_HASH_7=sha256:27f446a8b1f9a8f34cb4503f2831ec4d2937d1d3f18d18500183f59b0309a630

COMPONENT_SRC_8=	lohit-odia-ttf-2.91.0
COMPONENT_ARCHIVE_8=	$(COMPONENT_SRC_8).tar.gz
COMPONENT_ARCHIVE_URL_8=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_8)
COMPONENT_ARCHIVE_HASH_8=sha256:97260e6dcfce00a6a6517ba469371c4ca172aac41447611947b5cce4da4c3f96

COMPONENT_SRC_9=	lohit-punjabi-ttf-2.5.3
COMPONENT_ARCHIVE_9=	$(COMPONENT_SRC_9).tar.gz
COMPONENT_ARCHIVE_URL_9=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_9)
COMPONENT_ARCHIVE_HASH_9=sha256:d14143d1cbb9d6a72385251875b5b903f95dfbfed9f69e93568f6ab6dfd557bd

COMPONENT_SRC_10=	lohit-tamil-ttf-2.5.3
COMPONENT_ARCHIVE_10=	$(COMPONENT_SRC_10).tar.gz
COMPONENT_ARCHIVE_URL_10=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_10)
COMPONENT_ARCHIVE_HASH_10=sha256:8511a31880f5e00fa19e8c8b1029943a99d17c45b3b7c186a391d8cc8edaa915

COMPONENT_SRC_11=	lohit-tamil-classical-ttf-2.5.3
COMPONENT_ARCHIVE_11=	$(COMPONENT_SRC_11).tar.gz
COMPONENT_ARCHIVE_URL_11=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_11)
COMPONENT_ARCHIVE_HASH_11=sha256:325ea1496bb2ae4f77552c268190251a5155717dccda64d497da4388d17c2432

COMPONENT_SRC_12=	lohit-telugu-ttf-2.5.3
COMPONENT_ARCHIVE_12=	$(COMPONENT_SRC_12).tar.gz
COMPONENT_ARCHIVE_URL_12=https://releases.pagure.org/lohit/$(COMPONENT_ARCHIVE_12)
COMPONENT_ARCHIVE_HASH_12=sha256:ee5896d29b7c012d8d6f6a9c75dd63a897f1f66d7edffbb3847ae4a4b3ecf9e9


PKG_VARS+=	COMPONENT_ARCHIVE_URL_1
PKG_VARS+=	COMPONENT_ARCHIVE_URL_2
PKG_VARS+=	COMPONENT_ARCHIVE_URL_3
PKG_VARS+=	COMPONENT_ARCHIVE_URL_4
PKG_VARS+=	COMPONENT_ARCHIVE_URL_5
PKG_VARS+=	COMPONENT_ARCHIVE_URL_6
PKG_VARS+=	COMPONENT_ARCHIVE_URL_7
PKG_VARS+=	COMPONENT_ARCHIVE_URL_8
PKG_VARS+=	COMPONENT_ARCHIVE_URL_9
PKG_VARS+=	COMPONENT_ARCHIVE_URL_10
PKG_VARS+=	COMPONENT_ARCHIVE_URL_11
PKG_VARS+=	COMPONENT_ARCHIVE_URL_12


COMPONENT_BUGDB=	g11n/font

TPNO=			22853

BUILD_STYLE=		justmake
TEST_TARGET=		$(NO_TESTS)

include $(WS_MAKE_RULES)/common.mk

PROTOFONTSDIR=	$(PROTOUSRSHAREDIR)/fonts/TrueType
PROTOETCFONTSDIR=   $(PROTOETCDIR)/fonts/conf.avail

COMPONENT_BUILD_ACTION = \
	$(CP) $(foreach n,1 2 3 4 5 6 7 8 9 10 11 12,$(COMPONENT_SRC_$n)/*.ttf) $(@D)/; \
	$(MKFONTSCALE) $(@D); \
	$(MKFONTDIR) $(@D);

COMPONENT_INSTALL_ACTION = \
	$(CP) $(COMPONENT_SRC)/OFL.txt $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/; \
	$(CP) $(COMPONENT_SRC)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Assamese; \
	$(CP) $(COMPONENT_SRC_1)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Bengali; \
	$(CP) $(COMPONENT_SRC_2)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Devanagari; \
	$(CP) $(COMPONENT_SRC_3)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Gujarati; \
	$(CP) $(COMPONENT_SRC_4)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Kannada; \
	$(CP) $(COMPONENT_SRC_5)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Malayalam; \
	$(CP) $(COMPONENT_SRC_6)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Marathi; \
	$(CP) $(COMPONENT_SRC_7)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Nepali; \
	$(CP) $(COMPONENT_SRC_8)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Odia; \
	$(CP) $(COMPONENT_SRC_9)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Punjabi; \
	$(CP) $(COMPONENT_SRC_10)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Tamil; \
	$(CP) $(COMPONENT_SRC_11)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Tamil-Classical; \
	$(CP) $(COMPONENT_SRC_12)/ChangeLog $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME)/ChangeLog.Telugu; \
	$(CP) $(COMPONENT_SRC)/*.conf $(PROTOETCFONTSDIR)/; \
	$(CP) $(foreach n,1 2 3 4 5 6 7 8 9 10 11 12,$(COMPONENT_SRC_$n)/*.conf) $(PROTOETCFONTSDIR)/; \
	$(CP) $(@D)/*.ttf $(@D)/fonts.dir $(@D)/fonts.scale $(PROTOFONTSDIR)/$(COMPONENT_NAME);

COMPONENT_PRE_INSTALL_ACTION += \
	$(MKDIR) $(PROTOUSRSHAREDOCDIR)/ttf-$(COMPONENT_NAME); \
	$(MKDIR) $(PROTOFONTSDIR)/$(COMPONENT_NAME)/; \
	$(MKDIR) $(PROTOETCFONTSDIR);

REQUIRED_PACKAGES += x11/font-utilities
