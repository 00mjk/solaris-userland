Changes to make "gmake parfait" work. In other words, instead of using
"-include config.h" as part of the build, replace this with the addition
of a:

#include "config.h"

at the beginning of all the source files that get information from this
file.

This patch can be removed when Parfait CR #19730835 is fixed.

These changes will not be sent upstream.

--- util-linux-2.25.2/Makefile.in.orig	2015-03-01 12:09:46.664939865 -0800
+++ util-linux-2.25.2/Makefile.in	2015-03-01 12:10:03.697835491 -0800
@@ -3330,7 +3330,6 @@
 usrlib_execdir = @usrlib_execdir@
 usrsbin_execdir = @usrsbin_execdir@
 AM_CPPFLAGS = \
-	-include config.h \
 	-I$(top_srcdir)/include \
 	-DLOCALEDIR=\"$(localedir)\" \
 	-D_PATH_LOCALSTATEDIR=\"${localstatedir}\"
--- util-linux-2.25.2/lib/at.c.orig	2015-03-01 11:43:47.706048138 -0800
+++ util-linux-2.25.2/lib/at.c	2015-03-01 11:53:01.995395571 -0800
@@ -6,6 +6,7 @@
  *
  * Written by Karel Zak <kzak@redhat.com>
  */
+#include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
 #include <fcntl.h>
--- util-linux-2.25.2/lib/blkdev.c.orig	2015-03-01 11:43:47.709782117 -0800
+++ util-linux-2.25.2/lib/blkdev.c	2015-03-01 11:53:06.056900088 -0800
@@ -4,6 +4,7 @@
  *
  * Written by Karel Zak <kzak@redhat.com>
  */
+#include "config.h"
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <sys/ioctl.h>
--- util-linux-2.25.2/lib/canonicalize.c.orig	2015-03-01 11:43:47.713318152 -0800
+++ util-linux-2.25.2/lib/canonicalize.c	2015-03-01 11:53:10.025907134 -0800
@@ -6,6 +6,7 @@
  *
  * Copyright (C) 2009-2013 Karel Zak <kzak@redhat.com>
  */
+#include "config.h"
 #include <stdio.h>
 #include <string.h>
 #include <ctype.h>
--- util-linux-2.25.2/lib/colors.c.orig	2015-03-01 11:43:47.716885436 -0800
+++ util-linux-2.25.2/lib/colors.c	2015-03-01 11:53:14.164585667 -0800
@@ -5,6 +5,7 @@
  * This file may be distributed under the terms of the
  * GNU Lesser General Public License.
  */
+#include "config.h"
 #include <assert.h>
 #include <sys/stat.h>
 #include <sys/types.h>
--- util-linux-2.25.2/lib/crc32.c.orig	2015-03-01 11:43:47.719450124 -0800
+++ util-linux-2.25.2/lib/crc32.c	2015-03-01 11:53:21.320244734 -0800
@@ -38,6 +38,7 @@
  *
  */
 
+#include "config.h"
 #include <stdio.h>
 
 #include "crc32.h"
--- util-linux-2.25.2/lib/crc64.c.orig	2015-03-01 11:43:47.721677562 -0800
+++ util-linux-2.25.2/lib/crc64.c	2015-03-01 11:53:25.846172229 -0800
@@ -1,3 +1,4 @@
+#include "config.h"
 #include "crc64.h"
 
 static const uint64_t crc64_tab[256] = {
--- util-linux-2.25.2/lib/env.c.orig	2015-03-01 11:43:47.723913257 -0800
+++ util-linux-2.25.2/lib/env.c	2015-03-01 11:53:30.328287948 -0800
@@ -5,6 +5,7 @@
  *
  */
 
+#include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
--- util-linux-2.25.2/lib/exec_shell.c.orig	2015-03-01 11:43:47.726160917 -0800
+++ util-linux-2.25.2/lib/exec_shell.c	2015-03-01 11:53:34.945133416 -0800
@@ -16,6 +16,7 @@
  * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
  */
 
+#include "config.h"
 #include <stdlib.h>
 #include <string.h>
 #include <unistd.h>
--- util-linux-2.25.2/lib/fileutils.c.orig	2015-03-01 11:43:47.728419344 -0800
+++ util-linux-2.25.2/lib/fileutils.c	2015-03-01 11:53:40.478569968 -0800
@@ -2,6 +2,7 @@
  * Copyright (C) 2012 Sami Kerola <kerolasa@iki.fi>
  */
 
+#include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
 #include <sys/stat.h>
--- util-linux-2.25.2/lib/ismounted.c.orig	2015-03-01 11:43:47.730668003 -0800
+++ util-linux-2.25.2/lib/ismounted.c	2015-03-01 11:53:45.712384297 -0800
@@ -6,6 +6,7 @@
  * This file may be redistributed under the terms of the GNU Public
  * License.
  */
+#include "config.h"
 #include <stdio.h>
 #include <unistd.h>
 #include <stdlib.h>
--- util-linux-2.25.2/lib/mangle.c.orig	2015-03-01 11:43:47.732911742 -0800
+++ util-linux-2.25.2/lib/mangle.c	2015-03-01 11:53:49.871293399 -0800
@@ -5,6 +5,7 @@
  *
  * Copyright (C) 2010 Karel Zak <kzak@redhat.com>
  */
+#include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
--- util-linux-2.25.2/lib/match.c.orig	2015-03-01 11:43:47.735095807 -0800
+++ util-linux-2.25.2/lib/match.c	2015-03-01 11:53:56.163043602 -0800
@@ -5,6 +5,7 @@
  * GNU Lesser General Public License.
  */
 
+#include "config.h"
 #include <string.h>
 
 #include "match.h"
--- util-linux-2.25.2/lib/md5.c.orig	2015-03-01 11:43:47.739618639 -0800
+++ util-linux-2.25.2/lib/md5.c	2015-03-01 11:54:17.671305500 -0800
@@ -14,6 +14,7 @@
  * needed on buffers full of bytes, and then call MD5Final, which
  * will fill a supplied 16-byte array with the digest.
  */
+#include "config.h"
 #include <string.h>		/* for memcpy() */
 
 #include "md5.h"
--- util-linux-2.25.2/lib/pager.c.orig	2015-03-01 11:43:47.741853543 -0800
+++ util-linux-2.25.2/lib/pager.c	2015-03-01 11:54:23.396457844 -0800
@@ -5,6 +5,7 @@
  * by Davidlohr Bueso <dave@xxxxxxx> - March 2012.
  */
 
+#include "config.h"
 #include <unistd.h>
 #include <stdlib.h>
 #include <string.h>
--- util-linux-2.25.2/lib/path.c.orig	2015-03-01 11:43:47.744084746 -0800
+++ util-linux-2.25.2/lib/path.c	2015-03-01 11:54:28.896601001 -0800
@@ -23,6 +23,7 @@
  * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
  */
 
+#include "config.h"
 #include <stdarg.h>
 #include <string.h>
 #include <unistd.h>
--- util-linux-2.25.2/lib/procutils.c.orig	2015-03-01 11:43:47.746347088 -0800
+++ util-linux-2.25.2/lib/procutils.c	2015-03-01 11:54:33.422225278 -0800
@@ -14,6 +14,7 @@
  * GNU Library Public License for more details.
  */
 
+#include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
--- util-linux-2.25.2/lib/randutils.c.orig	2015-03-01 11:43:47.748566538 -0800
+++ util-linux-2.25.2/lib/randutils.c	2015-03-01 11:54:37.272489749 -0800
@@ -6,6 +6,7 @@
  * This file may be redistributed under the terms of the
  * GNU Lesser General Public License.
  */
+#include "config.h"
 #include <stdio.h>
 #include <unistd.h>
 #include <fcntl.h>
--- util-linux-2.25.2/lib/readutmp.c.orig	2015-03-01 11:43:47.750742501 -0800
+++ util-linux-2.25.2/lib/readutmp.c	2015-03-01 11:54:41.797679368 -0800
@@ -18,6 +18,7 @@
 /* Written by jla; revised by djm */
 /* extracted for util-linux by ooprala */
 
+#include "config.h"
 #include <errno.h>
 #include <stdio.h>
 
--- util-linux-2.25.2/lib/setproctitle.c.orig	2015-03-01 11:43:47.752974942 -0800
+++ util-linux-2.25.2/lib/setproctitle.c	2015-03-01 11:54:46.497856864 -0800
@@ -3,6 +3,7 @@
  *
  *  Clobbers argv of our main procedure so ps(1) will display the title.
  */
+#include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
--- util-linux-2.25.2/lib/strutils.c.orig	2015-03-01 11:43:47.755217223 -0800
+++ util-linux-2.25.2/lib/strutils.c	2015-03-01 11:54:50.265252752 -0800
@@ -3,6 +3,7 @@
  * Copyright (C) 2010 Davidlohr Bueso <dave@gnu.org>
  */
 
+#include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
 #include <inttypes.h>
--- util-linux-2.25.2/lib/sysfs.c.orig	2015-03-01 11:43:47.757446028 -0800
+++ util-linux-2.25.2/lib/sysfs.c	2015-03-01 11:54:54.370697652 -0800
@@ -4,6 +4,7 @@
  *
  * Written by Karel Zak <kzak@redhat.com>
  */
+#include "config.h"
 #include <ctype.h>
 
 #include "c.h"
--- util-linux-2.25.2/lib/timeutils.c.orig	2015-03-01 11:43:47.759733018 -0800
+++ util-linux-2.25.2/lib/timeutils.c	2015-03-01 11:54:59.904346610 -0800
@@ -18,6 +18,7 @@
   along with util-linux; If not, see <http://www.gnu.org/licenses/>.
 ***/
 
+#include "config.h"
 #include <assert.h>
 #include <ctype.h>
 #include <string.h>
--- util-linux-2.25.2/lib/ttyutils.c.orig	2015-03-01 11:43:47.761938016 -0800
+++ util-linux-2.25.2/lib/ttyutils.c	2015-03-01 11:55:04.046327843 -0800
@@ -4,6 +4,7 @@
  *
  * Written by Karel Zak <kzak@redhat.com>
  */
+#include "config.h"
 #include <ctype.h>
 
 #include "c.h"
--- util-linux-2.25.2/lib/xgetpass.c.orig	2015-03-01 11:43:47.766478464 -0800
+++ util-linux-2.25.2/lib/xgetpass.c	2015-03-01 11:55:08.021688395 -0800
@@ -5,6 +5,7 @@
  * Public domain.
  */
 
+#include "config.h"
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
--- util-linux-2.25.2/text-utils/colcrt.c.orig	2015-03-01 11:32:01.483661600 -0800
+++ util-linux-2.25.2/text-utils/colcrt.c	2015-03-01 11:32:22.335979347 -0800
@@ -38,6 +38,7 @@
  * 	modified to work correctly in multi-byte locales
  */
 
+#include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
 #include <unistd.h>		/* for close() */
--- util-linux-2.25.2/text-utils/colrm.c.orig	2015-03-01 11:32:01.486062543 -0800
+++ util-linux-2.25.2/text-utils/colrm.c	2015-03-01 11:32:29.519982931 -0800
@@ -38,6 +38,7 @@
  * 	modified to work correctly in multi-byte locales
  */
 
+#include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
 #include <getopt.h>
--- util-linux-2.25.2/text-utils/column.c.orig	2015-03-01 11:32:01.488393625 -0800
+++ util-linux-2.25.2/text-utils/column.c	2015-03-01 11:32:36.896574783 -0800
@@ -38,6 +38,7 @@
  * 	modified to work correctly in multi-byte locales
  */
 
+#include "config.h"
 #include <sys/types.h>
 #include <sys/ioctl.h>
 
--- util-linux-2.25.2/text-utils/hexdump-conv.c.orig	2015-03-01 11:32:01.490687692 -0800
+++ util-linux-2.25.2/text-utils/hexdump-conv.c	2015-03-01 11:32:42.821621161 -0800
@@ -31,6 +31,7 @@
  * SUCH DAMAGE.
  */
 
+#include "config.h"
 #include <stdio.h>
 #include <ctype.h>
 #include <sys/types.h>
--- util-linux-2.25.2/text-utils/hexdump-display.c.orig	2015-03-01 11:32:01.492920078 -0800
+++ util-linux-2.25.2/text-utils/hexdump-display.c	2015-03-01 11:32:49.738529478 -0800
@@ -31,6 +31,7 @@
  * SUCH DAMAGE.
  */
 
+#include "config.h"
 #include <sys/param.h>
 #include <sys/stat.h>
 #include <sys/types.h>
--- util-linux-2.25.2/text-utils/hexdump-parse.c.orig	2015-03-01 11:32:01.495159360 -0800
+++ util-linux-2.25.2/text-utils/hexdump-parse.c	2015-03-01 11:33:00.346711491 -0800
@@ -35,6 +35,7 @@
   * - added Native Language Support
   */
 
+#include "config.h"
 #include <sys/types.h>
 #include <sys/file.h>
 #include <stdio.h>
--- util-linux-2.25.2/text-utils/hexdump.c.orig	2015-03-01 11:32:01.497386272 -0800
+++ util-linux-2.25.2/text-utils/hexdump.c	2015-03-01 11:33:05.155584413 -0800
@@ -35,6 +35,7 @@
   * - added Native Language Support
   */
 
+#include "config.h"
 #include <sys/types.h>
 #include <unistd.h>
 #include <stdio.h>
--- util-linux-2.25.2/text-utils/rev.c.orig	2015-03-01 11:32:01.499685509 -0800
+++ util-linux-2.25.2/text-utils/rev.c	2015-03-01 11:33:11.255726569 -0800
@@ -48,6 +48,7 @@
  *      Changed tab indentation to 8 chars for better reading the code
  */
 
+#include "config.h"
 #include <stdarg.h>
 #include <sys/types.h>
 #include <errno.h>
--- util-linux-2.25.2/text-utils/tailf.c.orig	2015-03-01 11:32:01.504078280 -0800
+++ util-linux-2.25.2/text-utils/tailf.c	2015-03-01 11:33:16.805390486 -0800
@@ -26,6 +26,7 @@
  * flushed back to disk.  This is sort of a "stealth" tail.
  */
 
+#include "config.h"
 #include <stdio.h>
 #include <stdlib.h>
 #include <unistd.h>
